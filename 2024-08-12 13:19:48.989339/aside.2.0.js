$(function(){$('#slide-tv').cycle({fx:'scrollHorz',timeout:0,prev:'#prev-tv',next:'#next-tv',pager:'#nav-slider-tv',pagerAnchorBuilder:pagerFactory});$('#slide-trips').cycle({fx:'scrollHorz',timeout:0,prev:'#prev-trips',next:'#next-trips',pager:'#nav-slider-trips',pagerAnchorBuilder:pagerFactory});$('#slide-galerias').cycle({fx:'scrollHorz',timeout:0,prev:'#prev-galerias',next:'#next-galerias',pager:'#nav-slider-galerias',pagerAnchorBuilder:pagerFactory});function pagerFactory(idx,slide){var s=idx>20?' style="display:none"':'';return '<li'+s+'><a href="#">'+(idx+1)+'</a></li>';};if(modulo_surfmappers)lerJsonMappers();});var textoSurfmappers=new Array(20);var posicaoSurfmappers=1;var numFotosSurfmappers=0;function lerJsonMappers(){var cidade=localStorage.getItem('cidade');var estado=localStorage.getItem('estado');var pais=localStorage.getItem('pais');var fonte="https://www.surfmappers.com/r/sssnsrfgr?url=https://www.surfguru.com.br/previsao/"+localizacao;var link_mappers="https://www.surfmappers.com/";$('#modulo_surfmappers').hide();var c=k=0;var foto=new Array(20);for(k=0;k<20;k++){foto[k]=new Array(5);for(var c=0;c<5;c++){foto[k][c]="";}}
$.getJSON(fonte,function(dados){$.each(dados.data.last_sessions,function(i,sessions){numFotosSurfmappers++;foto[numFotosSurfmappers][0]=sessions.cover_photo;foto[numFotosSurfmappers][1]=sessions.photographer;foto[numFotosSurfmappers][2]=sessions.surfmappers_url;foto[numFotosSurfmappers][3]=sessions.spot;foto[numFotosSurfmappers][4]=sessions.date;});link_mappers=dados.data.search_url;$('#link-mappers').attr("href",link_mappers);if(numFotosSurfmappers>0){var dat=Array();dat=foto[1][4].split("/");if(isNaN(dat[0])||isNaN(dat[1])||isNaN(dat[2]))return;dd=parseInt(dat[0]);mm=parseInt(dat[1]);aa=parseInt(dat[2]);numDiasMappers=365*(aa-2000)+30*(mm-1)+dd;numDiasHoje=365*(anoHoje-2000)+30*(mesHoje-1)+diaHoje;numDias=numDiasHoje-numDiasMappers;if(numDias<60){for(c=1;c<=numFotosSurfmappers;c++){if(c>1)$('#surfmapper'+(c-1)).after($('#surfmapper1').clone().attr("id","surfmapper"+c));$('#surfmapper'+c+' img').attr("src",foto[c][0]);$('#surfmapper'+c+' a').attr("title","Foto: "+foto[c][1]);$('#surfmapper'+c+' a').attr("href",foto[c][2]);textoSurfmappers[c]=foto[c][3]+" em "+foto[c][4];}
$('#texto-surfmappers').html(textoSurfmappers[1]);$('#modulo_surfmappers').show();}}});}
function proxMappers(){if(posicaoSurfmappers<numFotosSurfmappers){posicaoSurfmappers++;var pos=-300*(posicaoSurfmappers-1);$('#slide-surfmappers').animate({left:String(pos)+"px"},600);$('#texto-surfmappers').fadeOut(300,function(){$('#texto-surfmappers').html(textoSurfmappers[posicaoSurfmappers]);$('#texto-surfmappers').fadeIn(300);});}else{$('#texto-surfmappers').fadeOut(600);var pos=-300*(numFotosSurfmappers);$('#slide-surfmappers').animate({left:String(pos)+"px"},600,function(){posicaoSurfmappers=1;$('#texto-surfmappers').html(textoSurfmappers[posicaoSurfmappers]);$('#texto-surfmappers').fadeIn(600);pos=-300*(posicaoSurfmappers-1);$('#slide-surfmappers').attr("style","left:300px;");$('#slide-surfmappers').animate({left:String(pos)+"px"},600);});}}
function antMappers(){if(posicaoSurfmappers>1){posicaoSurfmappers--;var pos=-300*(posicaoSurfmappers-1);$('#slide-surfmappers').animate({left:String(pos)+"px"},600);$('#texto-surfmappers').fadeOut(300,function(){$('#texto-surfmappers').html(textoSurfmappers[posicaoSurfmappers]);$('#texto-surfmappers').fadeIn(300);});}else{$('#texto-surfmappers').fadeOut(600);var pos=300;$('#slide-surfmappers').animate({left:String(pos)+"px"},600,function(){posicaoSurfmappers=numFotosSurfmappers;$('#texto-surfmappers').html(textoSurfmappers[posicaoSurfmappers]);$('#texto-surfmappers').fadeIn(600);pos=-300*(posicaoSurfmappers-1);$('#slide-surfmappers').attr("style","left:"+(-300*posicaoSurfmappers)+"px;");$('#slide-surfmappers').animate({left:String(pos)+"px"},600);});}}
$(function(){});